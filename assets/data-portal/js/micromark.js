/* esm.sh - micromark@3.2.0 */
var oe=Object.defineProperty;var ae=(n,r)=>{for(var t in r)oe(n,t,{get:r[t],enumerable:!0})};var ut=document.createElement("i");function An(n){let r="&"+n+";";ut.innerHTML=r;let t=ut.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===r?!1:t}function Q(n,r,t,e){let u=n.length,i=0,o;if(r<0?r=-r>u?0:u+r:r=r>u?u:r,t=t>0?t:0,e.length<1e4)o=Array.from(e),o.unshift(r,t),n.splice(...o);else for(t&&n.splice(r,t);i<e.length;)o=e.slice(i,i+1e4),o.unshift(r,0),n.splice(...o),i+=1e4,r+=1e4}function H(n,r){return n.length>0?(Q(n,n.length,0,r),n):r}var qn={}.hasOwnProperty;function ot(n){let r={},t=-1;for(;++t<n.length;)le(r,n[t]);return r}function le(n,r){let t;for(t in r){let u=(qn.call(n,t)?n[t]:void 0)||(n[t]={}),i=r[t],o;if(i)for(o in i){qn.call(u,o)||(u[o]=[]);let a=i[o];se(u[o],Array.isArray(a)?a:a?[a]:[])}}}function se(n,r){let t=-1,e=[];for(;++t<r.length;)(r[t].add==="after"?n:e).push(r[t]);Q(n,0,0,e)}function at(n){let r={},t=-1;for(;++t<n.length;)ce(r,n[t]);return r}function ce(n,r){let t;for(t in r){let u=(qn.call(n,t)?n[t]:void 0)||(n[t]={}),i=r[t],o;if(i)for(o in i)u[o]=i[o]}}function lt(n,r){let t=Number.parseInt(n,r);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}var me={'"':"quot","&":"amp","<":"lt",">":"gt"};function yn(n){return n.replace(/["&<>]/g,r);function r(t){return"&"+me[t]+";"}}function on(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var st=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var Y=an(/[A-Za-z]/),N=an(/[\dA-Za-z]/),ct=an(/[#-'*+\--9=?A-Z^-~]/);function dn(n){return n!==null&&(n<32||n===127)}var Sn=an(/\d/),mt=an(/[\dA-Fa-f]/),pt=an(/[!-/:-@[-`{-~]/);function b(n){return n!==null&&n<-2}function M(n){return n!==null&&(n<0||n===32)}function y(n){return n===-2||n===-1||n===32}var ft=an(st),ht=an(/\s/);function an(n){return r;function r(t){return t!==null&&n.test(String.fromCharCode(t))}}function bn(n,r){let t=yn(pe(n||""));if(!r)return t;let e=t.indexOf(":"),u=t.indexOf("?"),i=t.indexOf("#"),o=t.indexOf("/");return e<0||o>-1&&e>o||u>-1&&e>u||i>-1&&e>i||r.test(t.slice(0,e))?t:""}function pe(n){let r=[],t=-1,e=0,u=0;for(;++t<n.length;){let i=n.charCodeAt(t),o="";if(i===37&&N(n.charCodeAt(t+1))&&N(n.charCodeAt(t+2)))u=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){let a=n.charCodeAt(t+1);i<56320&&a>56319&&a<57344?(o=String.fromCharCode(i,a),u=1):o="\uFFFD"}else o=String.fromCharCode(i);o&&(r.push(n.slice(e,t),encodeURIComponent(o)),e=t+u+1,o=""),u&&(t+=u,u=0)}return r.join("")+n.slice(e)}var xt={}.hasOwnProperty,gt=/^(https?|ircs?|mailto|xmpp)$/i,fe=/^https?$/i;function kt(n){let r=n||{},t=!0,e={},u=[[]],i=[],o=[],h=at([{enter:{blockQuote:T,codeFenced:K,codeFencedFenceInfo:B,codeFencedFenceMeta:B,codeIndented:J,codeText:Xt,content:jt,definition:Rn,definitionDestinationString:Mt,definitionLabelString:B,definitionTitleString:B,emphasis:Jt,htmlFlow:Gt,htmlText:nt,image:s,label:B,link:$,listItemMarker:W,listItemValue:q,listOrdered:O,listUnordered:R,paragraph:_,reference:B,resource:V,resourceDestinationString:gn,resourceTitleString:B,setextHeading:Vt,strong:Kt},exit:{atxHeading:Wt,atxHeadingSequence:Nt,autolinkEmail:ue,autolinkProtocol:ie,blockQuote:I,characterEscapeValue:kn,characterReferenceMarkerHexadecimal:tt,characterReferenceMarkerNumeric:tt,characterReferenceValue:re,codeFenced:nn,codeFencedFence:l,codeFencedFenceInfo:v,codeFencedFenceMeta:d,codeFlowValue:Yt,codeIndented:nn,codeText:vt,codeTextData:kn,data:kn,definition:Ht,definitionDestinationString:Rt,definitionLabelString:_t,definitionTitleString:qt,emphasis:ne,hardBreakEscape:Xn,hardBreakTrailing:Xn,htmlFlow:vn,htmlFlowData:kn,htmlText:vn,htmlTextData:kn,image:sn,label:Mn,labelText:fn,lineEnding:$t,link:sn,listOrdered:G,listUnordered:P,paragraph:j,reference:d,referenceString:Cn,resource:d,resourceDestinationString:rn,resourceTitleString:hn,setextHeading:Zt,setextHeadingLineSequence:Ut,setextHeadingText:Qt,strong:te,thematicBreak:ee}}].concat(r.htmlExtensions||[])),p={tightStack:o,definitions:e},m={lineEndingIfNeeded:L,options:r,encode:g,raw:S,tag:E,buffer:B,resume:d,setData:F,getData:A},x=r.defaultLineEnding;return f;function f(k){let w=-1,Z=0,X=[],tn=[],un=[];for(;++w<k.length;)!x&&(k[w][1].type==="lineEnding"||k[w][1].type==="lineEndingBlank")&&(x=k[w][2].sliceSerialize(k[w][1])),(k[w][1].type==="listOrdered"||k[w][1].type==="listUnordered")&&(k[w][0]==="enter"?X.push(w):c(k.slice(X.pop(),w))),k[w][1].type==="definition"&&(k[w][0]==="enter"?(un=H(un,k.slice(Z,w)),Z=w):(tn=H(tn,k.slice(Z,w+1)),Z=w+1));tn=H(tn,un),tn=H(tn,k.slice(Z)),w=-1;let en=tn;for(h.enter.null&&h.enter.null.call(m);++w<k.length;){let et=h[en[w][0]],rt=en[w][1].type,it=et[rt];xt.call(et,rt)&&it&&it.call(Object.assign({sliceSerialize:en[w][2].sliceSerialize},m),en[w][1])}return h.exit.null&&h.exit.null.call(m),u[0].join("")}function c(k){let w=k.length,Z=0,X=0,tn=!1,un;for(;++Z<w;){let en=k[Z];if(en[1]._container)un=void 0,en[0]==="enter"?X++:X--;else switch(en[1].type){case"listItemPrefix":{en[0]==="exit"&&(un=!0);break}case"linePrefix":break;case"lineEndingBlank":{en[0]==="enter"&&!X&&(un?un=void 0:tn=!0);break}default:un=void 0}}k[0][1]._loose=tn}function F(k,w){p[k]=w}function A(k){return p[k]}function B(){u.push([])}function d(){return u.pop().join("")}function E(k){t&&(F("lastWasTag",!0),u[u.length-1].push(k))}function S(k){F("lastWasTag"),u[u.length-1].push(k)}function D(){S(x||`
`)}function L(){let k=u[u.length-1],w=k[k.length-1],Z=w?w.charCodeAt(w.length-1):null;Z===10||Z===13||Z===null||D()}function g(k){return A("ignoreEncode")?k:yn(k)}function O(k){o.push(!k._loose),L(),E("<ol"),F("expectFirstItem",!0)}function R(k){o.push(!k._loose),L(),E("<ul"),F("expectFirstItem",!0)}function q(k){if(A("expectFirstItem")){let w=Number.parseInt(this.sliceSerialize(k),10);w!==1&&E(' start="'+g(String(w))+'"')}}function W(){A("expectFirstItem")?E(">"):C(),L(),E("<li>"),F("expectFirstItem"),F("lastWasTag")}function G(){C(),o.pop(),D(),E("</ol>")}function P(){C(),o.pop(),D(),E("</ul>")}function C(){A("lastWasTag")&&!A("slurpAllLineEndings")&&L(),E("</li>"),F("slurpAllLineEndings")}function T(){o.push(!1),L(),E("<blockquote>")}function I(){o.pop(),L(),E("</blockquote>"),F("slurpAllLineEndings")}function _(){o[o.length-1]||(L(),E("<p>")),F("slurpAllLineEndings")}function j(){o[o.length-1]?F("slurpAllLineEndings",!0):E("</p>")}function K(){L(),E("<pre><code"),F("fencesCount",0)}function v(){let k=d();E(' class="language-'+k+'"')}function l(){let k=A("fencesCount")||0;k||(E(">"),F("slurpOneLineEnding",!0)),F("fencesCount",k+1)}function J(){L(),E("<pre><code>")}function nn(){let k=A("fencesCount");k!==void 0&&k<2&&p.tightStack.length>0&&!A("lastWasTag")&&D(),A("flowCodeSeenData")&&L(),E("</code></pre>"),k!==void 0&&k<2&&L(),F("flowCodeSeenData"),F("fencesCount"),F("slurpOneLineEnding")}function s(){i.push({image:!0}),t=void 0}function $(){i.push({})}function fn(k){i[i.length-1].labelId=this.sliceSerialize(k)}function Mn(){i[i.length-1].label=d()}function Cn(k){i[i.length-1].referenceId=this.sliceSerialize(k)}function V(){B(),i[i.length-1].destination=""}function gn(){B(),F("ignoreEncode",!0)}function rn(){i[i.length-1].destination=d(),F("ignoreEncode")}function hn(){i[i.length-1].title=d()}function sn(){let k=i.length-1,w=i[k],Z=w.referenceId||w.labelId,X=w.destination===void 0?e[on(Z)]:w;for(t=!0;k--;)if(i[k].image){t=void 0;break}w.image?(E('<img src="'+bn(X.destination,r.allowDangerousProtocol?void 0:fe)+'" alt="'),S(w.label),E('"')):E('<a href="'+bn(X.destination,r.allowDangerousProtocol?void 0:gt)+'"'),E(X.title?' title="'+X.title+'"':""),w.image?E(" />"):(E(">"),S(w.label),E("</a>")),i.pop()}function Rn(){B(),i.push({})}function _t(k){d(),i[i.length-1].labelId=this.sliceSerialize(k)}function Mt(){B(),F("ignoreEncode",!0)}function Rt(){i[i.length-1].destination=d(),F("ignoreEncode")}function qt(){i[i.length-1].title=d()}function Ht(){let k=i[i.length-1],w=on(k.labelId);d(),xt.call(e,w)||(e[w]=i[i.length-1]),i.pop()}function jt(){F("slurpAllLineEndings",!0)}function Nt(k){A("headingRank")||(F("headingRank",this.sliceSerialize(k).length),L(),E("<h"+A("headingRank")+">"))}function Vt(){B(),F("slurpAllLineEndings")}function Qt(){F("slurpAllLineEndings",!0)}function Wt(){E("</h"+A("headingRank")+">"),F("headingRank")}function Ut(k){F("headingRank",this.sliceSerialize(k).charCodeAt(0)===61?1:2)}function Zt(){let k=d();L(),E("<h"+A("headingRank")+">"),S(k),E("</h"+A("headingRank")+">"),F("slurpAllLineEndings"),F("headingRank")}function kn(k){S(g(this.sliceSerialize(k)))}function $t(k){if(!A("slurpAllLineEndings")){if(A("slurpOneLineEnding")){F("slurpOneLineEnding");return}if(A("inCodeText")){S(" ");return}S(g(this.sliceSerialize(k)))}}function Yt(k){S(g(this.sliceSerialize(k))),F("flowCodeSeenData",!0)}function Xn(){E("<br />")}function Gt(){L(),nt()}function vn(){F("ignoreEncode")}function nt(){r.allowDangerousHtml&&F("ignoreEncode",!0)}function Jt(){E("<em>")}function Kt(){E("<strong>")}function Xt(){F("inCodeText",!0),E("<code>")}function vt(){F("inCodeText"),E("</code>")}function ne(){E("</em>")}function te(){E("</strong>")}function ee(){L(),E("<hr />")}function tt(k){F("characterReferenceType",k.type)}function re(k){let w=this.sliceSerialize(k);w=A("characterReferenceType")?lt(w,A("characterReferenceType")==="characterReferenceMarkerNumeric"?10:16):An(w),S(g(w)),F("characterReferenceType")}function ie(k){let w=this.sliceSerialize(k);E('<a href="'+bn(w,r.allowDangerousProtocol?void 0:gt)+'">'),S(g(w)),E("</a>")}function ue(k){let w=this.sliceSerialize(k);E('<a href="'+bn("mailto:"+w)+'">'),S(g(w)),E("</a>")}}function z(n,r,t,e){let u=e?e-1:Number.POSITIVE_INFINITY,i=0;return o;function o(h){return y(h)?(n.enter(t),a(h)):r(h)}function a(h){return y(h)&&i++<u?(n.consume(h),a):(n.exit(t),r(h))}}var dt={tokenize:he};function he(n){let r=n.attempt(this.parser.constructs.contentInitial,e,u),t;return r;function e(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),z(n,r,"linePrefix")}function u(a){return n.enter("paragraph"),i(a)}function i(a){let h=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=h),t=h,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return b(a)?(n.consume(a),n.exit("chunkText"),i):(n.consume(a),o)}}var bt={tokenize:xe},St={tokenize:ge};function xe(n){let r=this,t=[],e=0,u,i,o;return a;function a(S){if(e<t.length){let D=t[e];return r.containerState=D[1],n.attempt(D[0].continuation,h,p)(S)}return p(S)}function h(S){if(e++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,u&&E();let D=r.events.length,L=D,g;for(;L--;)if(r.events[L][0]==="exit"&&r.events[L][1].type==="chunkFlow"){g=r.events[L][1].end;break}d(e);let O=D;for(;O<r.events.length;)r.events[O][1].end=Object.assign({},g),O++;return Q(r.events,L+1,0,r.events.slice(D)),r.events.length=O,p(S)}return a(S)}function p(S){if(e===t.length){if(!u)return f(S);if(u.currentConstruct&&u.currentConstruct.concrete)return F(S);r.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return r.containerState={},n.check(St,m,x)(S)}function m(S){return u&&E(),d(e),f(S)}function x(S){return r.parser.lazy[r.now().line]=e!==t.length,o=r.now().offset,F(S)}function f(S){return r.containerState={},n.attempt(St,c,F)(S)}function c(S){return e++,t.push([r.currentConstruct,r.containerState]),f(S)}function F(S){if(S===null){u&&E(),d(0),n.consume(S);return}return u=u||r.parser.flow(r.now()),n.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:u}),A(S)}function A(S){if(S===null){B(n.exit("chunkFlow"),!0),d(0),n.consume(S);return}return b(S)?(n.consume(S),B(n.exit("chunkFlow")),e=0,r.interrupt=void 0,a):(n.consume(S),A)}function B(S,D){let L=r.sliceStream(S);if(D&&L.push(null),S.previous=i,i&&(i.next=S),i=S,u.defineSkip(S.start),u.write(L),r.parser.lazy[S.start.line]){let g=u.events.length;for(;g--;)if(u.events[g][1].start.offset<o&&(!u.events[g][1].end||u.events[g][1].end.offset>o))return;let O=r.events.length,R=O,q,W;for(;R--;)if(r.events[R][0]==="exit"&&r.events[R][1].type==="chunkFlow"){if(q){W=r.events[R][1].end;break}q=!0}for(d(e),g=O;g<r.events.length;)r.events[g][1].end=Object.assign({},W),g++;Q(r.events,R+1,0,r.events.slice(O)),r.events.length=g}}function d(S){let D=t.length;for(;D-- >S;){let L=t[D];r.containerState=L[1],L[0].exit.call(r,n)}t.length=S}function E(){u.write([null]),i=void 0,u=void 0,r.containerState._closeFlow=void 0}}function ge(n,r,t){return z(n,n.attempt(this.parser.constructs.document,r,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Hn(n){if(n===null||M(n)||ht(n))return 1;if(ft(n))return 2}function xn(n,r,t){let e=[],u=-1;for(;++u<n.length;){let i=n[u].resolveAll;i&&!e.includes(i)&&(r=i(r,t),e.push(i))}return r}var Fn={name:"attention",tokenize:de,resolveAll:ke};function ke(n,r){let t=-1,e,u,i,o,a,h,p,m;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(e=t;e--;)if(n[e][0]==="exit"&&n[e][1].type==="attentionSequence"&&n[e][1]._open&&r.sliceSerialize(n[e][1]).charCodeAt(0)===r.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[e][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[e][1].end.offset-n[e][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;h=n[e][1].end.offset-n[e][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let x=Object.assign({},n[e][1].end),f=Object.assign({},n[t][1].start);Ft(x,-h),Ft(f,h),o={type:h>1?"strongSequence":"emphasisSequence",start:x,end:Object.assign({},n[e][1].end)},a={type:h>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:f},i={type:h>1?"strongText":"emphasisText",start:Object.assign({},n[e][1].end),end:Object.assign({},n[t][1].start)},u={type:h>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},n[e][1].end=Object.assign({},o.start),n[t][1].start=Object.assign({},a.end),p=[],n[e][1].end.offset-n[e][1].start.offset&&(p=H(p,[["enter",n[e][1],r],["exit",n[e][1],r]])),p=H(p,[["enter",u,r],["enter",o,r],["exit",o,r],["enter",i,r]]),p=H(p,xn(r.parser.constructs.insideSpan.null,n.slice(e+1,t),r)),p=H(p,[["exit",i,r],["enter",a,r],["exit",a,r],["exit",u,r]]),n[t][1].end.offset-n[t][1].start.offset?(m=2,p=H(p,[["enter",n[t][1],r],["exit",n[t][1],r]])):m=0,Q(n,e-1,t-e+3,p),t=e+p.length-m-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function de(n,r){let t=this.parser.constructs.attentionMarkers.null,e=this.previous,u=Hn(e),i;return o;function o(h){return i=h,n.enter("attentionSequence"),a(h)}function a(h){if(h===i)return n.consume(h),a;let p=n.exit("attentionSequence"),m=Hn(h),x=!m||m===2&&u||t.includes(h),f=!u||u===2&&m||t.includes(e);return p._open=!!(i===42?x:x&&(u||!f)),p._close=!!(i===42?f:f&&(m||!x)),r(h)}}function Ft(n,r){n.column+=r,n.offset+=r,n._bufferIndex+=r}var jn={name:"autolink",tokenize:Se};function Se(n,r,t){let e=0;return u;function u(c){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),i}function i(c){return Y(c)?(n.consume(c),o):p(c)}function o(c){return c===43||c===45||c===46||N(c)?(e=1,a(c)):p(c)}function a(c){return c===58?(n.consume(c),e=0,h):(c===43||c===45||c===46||N(c))&&e++<32?(n.consume(c),a):(e=0,p(c))}function h(c){return c===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.exit("autolink"),r):c===null||c===32||c===60||dn(c)?t(c):(n.consume(c),h)}function p(c){return c===64?(n.consume(c),m):ct(c)?(n.consume(c),p):t(c)}function m(c){return N(c)?x(c):t(c)}function x(c){return c===46?(n.consume(c),e=0,m):c===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.exit("autolink"),r):f(c)}function f(c){if((c===45||N(c))&&e++<63){let F=c===45?f:x;return n.consume(c),F}return t(c)}}var ln={tokenize:be,partial:!0};function be(n,r,t){return e;function e(i){return y(i)?z(n,u,"linePrefix")(i):u(i)}function u(i){return i===null||b(i)?r(i):t(i)}}var zn={name:"blockQuote",tokenize:Fe,continuation:{tokenize:Ee},exit:we};function Fe(n,r,t){let e=this;return u;function u(o){if(o===62){let a=e.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),i}return t(o)}function i(o){return y(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),r):(n.exit("blockQuotePrefix"),r(o))}}function Ee(n,r,t){let e=this;return u;function u(o){return y(o)?z(n,i,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return n.attempt(zn,r,t)(o)}}function we(n){n.exit("blockQuote")}var In={name:"characterEscape",tokenize:Ce};function Ce(n,r,t){return e;function e(i){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(i),n.exit("escapeMarker"),u}function u(i){return pt(i)?(n.enter("characterEscapeValue"),n.consume(i),n.exit("characterEscapeValue"),n.exit("characterEscape"),r):t(i)}}var Ln={name:"characterReference",tokenize:Ae};function Ae(n,r,t){let e=this,u=0,i,o;return a;function a(x){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(x),n.exit("characterReferenceMarker"),h}function h(x){return x===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(x),n.exit("characterReferenceMarkerNumeric"),p):(n.enter("characterReferenceValue"),i=31,o=N,m(x))}function p(x){return x===88||x===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(x),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),i=6,o=mt,m):(n.enter("characterReferenceValue"),i=7,o=Sn,m(x))}function m(x){if(x===59&&u){let f=n.exit("characterReferenceValue");return o===N&&!An(e.sliceSerialize(f))?t(x):(n.enter("characterReferenceMarker"),n.consume(x),n.exit("characterReferenceMarker"),n.exit("characterReference"),r)}return o(x)&&u++<i?(n.consume(x),m):t(x)}}var Et={tokenize:ze,partial:!0},Bn={name:"codeFenced",tokenize:ye,concrete:!0};function ye(n,r,t){let e=this,u={tokenize:L,partial:!0},i=0,o=0,a;return h;function h(g){return p(g)}function p(g){let O=e.events[e.events.length-1];return i=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,a=g,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),m(g)}function m(g){return g===a?(o++,n.consume(g),m):o<3?t(g):(n.exit("codeFencedFenceSequence"),y(g)?z(n,x,"whitespace")(g):x(g))}function x(g){return g===null||b(g)?(n.exit("codeFencedFence"),e.interrupt?r(g):n.check(Et,A,D)(g)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===null||b(g)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),x(g)):y(g)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),z(n,c,"whitespace")(g)):g===96&&g===a?t(g):(n.consume(g),f)}function c(g){return g===null||b(g)?x(g):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),F(g))}function F(g){return g===null||b(g)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),x(g)):g===96&&g===a?t(g):(n.consume(g),F)}function A(g){return n.attempt(u,D,B)(g)}function B(g){return n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),d}function d(g){return i>0&&y(g)?z(n,E,"linePrefix",i+1)(g):E(g)}function E(g){return g===null||b(g)?n.check(Et,A,D)(g):(n.enter("codeFlowValue"),S(g))}function S(g){return g===null||b(g)?(n.exit("codeFlowValue"),E(g)):(n.consume(g),S)}function D(g){return n.exit("codeFenced"),r(g)}function L(g,O,R){let q=0;return W;function W(I){return g.enter("lineEnding"),g.consume(I),g.exit("lineEnding"),G}function G(I){return g.enter("codeFencedFence"),y(I)?z(g,P,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):P(I)}function P(I){return I===a?(g.enter("codeFencedFenceSequence"),C(I)):R(I)}function C(I){return I===a?(q++,g.consume(I),C):q>=o?(g.exit("codeFencedFenceSequence"),y(I)?z(g,T,"whitespace")(I):T(I)):R(I)}function T(I){return I===null||b(I)?(g.exit("codeFencedFence"),O(I)):R(I)}}}function ze(n,r,t){let e=this;return u;function u(o){return o===null?t(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i)}function i(o){return e.parser.lazy[e.now().line]?t(o):r(o)}}var En={name:"codeIndented",tokenize:Le},Ie={tokenize:Be,partial:!0};function Le(n,r,t){let e=this;return u;function u(p){return n.enter("codeIndented"),z(n,i,"linePrefix",5)(p)}function i(p){let m=e.events[e.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?o(p):t(p)}function o(p){return p===null?h(p):b(p)?n.attempt(Ie,o,h)(p):(n.enter("codeFlowValue"),a(p))}function a(p){return p===null||b(p)?(n.exit("codeFlowValue"),o(p)):(n.consume(p),a)}function h(p){return n.exit("codeIndented"),r(p)}}function Be(n,r,t){let e=this;return u;function u(o){return e.parser.lazy[e.now().line]?t(o):b(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),u):z(n,i,"linePrefix",5)(o)}function i(o){let a=e.events[e.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?r(o):b(o)?u(o):t(o)}}var Nn={name:"codeText",tokenize:Oe,resolve:Te,previous:De};function Te(n){let r=n.length-4,t=3,e,u;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[r][1].type==="lineEnding"||n[r][1].type==="space")){for(e=t;++e<r;)if(n[e][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[r][1].type="codeTextPadding",t+=2,r-=2;break}}for(e=t-1,r++;++e<=r;)u===void 0?e!==r&&n[e][1].type!=="lineEnding"&&(u=e):(e===r||n[e][1].type==="lineEnding")&&(n[u][1].type="codeTextData",e!==u+2&&(n[u][1].end=n[e-1][1].end,n.splice(u+2,e-u-2),r-=e-u-2,e=u+2),u=void 0);return n}function De(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Oe(n,r,t){let e=this,u=0,i,o;return a;function a(f){return n.enter("codeText"),n.enter("codeTextSequence"),h(f)}function h(f){return f===96?(n.consume(f),u++,h):(n.exit("codeTextSequence"),p(f))}function p(f){return f===null?t(f):f===32?(n.enter("space"),n.consume(f),n.exit("space"),p):f===96?(o=n.enter("codeTextSequence"),i=0,x(f)):b(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),p):(n.enter("codeTextData"),m(f))}function m(f){return f===null||f===32||f===96||b(f)?(n.exit("codeTextData"),p(f)):(n.consume(f),m)}function x(f){return f===96?(n.consume(f),i++,x):i===u?(n.exit("codeTextSequence"),n.exit("codeText"),r(f)):(o.type="codeTextData",m(f))}}function Tn(n){let r={},t=-1,e,u,i,o,a,h,p;for(;++t<n.length;){for(;t in r;)t=r[t];if(e=n[t],t&&e[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(h=e[1]._tokenizer.events,i=0,i<h.length&&h[i][1].type==="lineEndingBlank"&&(i+=2),i<h.length&&h[i][1].type==="content"))for(;++i<h.length&&h[i][1].type!=="content";)h[i][1].type==="chunkText"&&(h[i][1]._isInFirstContentOfListItem=!0,i++);if(e[0]==="enter")e[1].contentType&&(Object.assign(r,Pe(n,t)),t=r[t],p=!0);else if(e[1]._container){for(i=t,u=void 0;i--&&(o=n[i],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(u&&(n[u][1].type="lineEndingBlank"),o[1].type="lineEnding",u=i);u&&(e[1].end=Object.assign({},n[u][1].start),a=n.slice(u,t),a.unshift(e),Q(n,u,t-u+1,a))}}return!p}function Pe(n,r){let t=n[r][1],e=n[r][2],u=r-1,i=[],o=t._tokenizer||e.parser[t.contentType](t.start),a=o.events,h=[],p={},m,x,f=-1,c=t,F=0,A=0,B=[A];for(;c;){for(;n[++u][1]!==c;);i.push(u),c._tokenizer||(m=e.sliceStream(c),c.next||m.push(null),x&&o.defineSkip(c.start),c._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(m),c._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),x=c,c=c.next}for(c=t;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(A=f+1,B.push(A),c._tokenizer=void 0,c.previous=void 0,c=c.next);for(o.events=[],c?(c._tokenizer=void 0,c.previous=void 0):B.pop(),f=B.length;f--;){let d=a.slice(B[f],B[f+1]),E=i.pop();h.unshift([E,E+d.length-1]),Q(n,E,2,d)}for(f=-1;++f<h.length;)p[F+h[f][0]]=F+h[f][1],F+=h[f][1]-h[f][0]-1;return p}var Vn={tokenize:Re,resolve:Me},_e={tokenize:qe,partial:!0};function Me(n){return Tn(n),n}function Re(n,r){let t;return e;function e(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),u(a)}function u(a){return a===null?i(a):b(a)?n.check(_e,o,i)(a):(n.consume(a),u)}function i(a){return n.exit("chunkContent"),n.exit("content"),r(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,u}}function qe(n,r,t){let e=this;return u;function u(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),z(n,i,"linePrefix")}function i(o){if(o===null||b(o))return t(o);let a=e.events[e.events.length-1];return!e.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?r(o):n.interrupt(e.parser.constructs.flow,t,r)(o)}}function Dn(n,r,t,e,u,i,o,a,h){let p=h||Number.POSITIVE_INFINITY,m=0;return x;function x(d){return d===60?(n.enter(e),n.enter(u),n.enter(i),n.consume(d),n.exit(i),f):d===null||d===32||d===41||dn(d)?t(d):(n.enter(e),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),A(d))}function f(d){return d===62?(n.enter(i),n.consume(d),n.exit(i),n.exit(u),n.exit(e),r):(n.enter(a),n.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===62?(n.exit("chunkString"),n.exit(a),f(d)):d===null||d===60||b(d)?t(d):(n.consume(d),d===92?F:c)}function F(d){return d===60||d===62||d===92?(n.consume(d),c):c(d)}function A(d){return!m&&(d===null||d===41||M(d))?(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(e),r(d)):m<p&&d===40?(n.consume(d),m++,A):d===41?(n.consume(d),m--,A):d===null||d===32||d===40||dn(d)?t(d):(n.consume(d),d===92?B:A)}function B(d){return d===40||d===41||d===92?(n.consume(d),A):A(d)}}function On(n,r,t,e,u,i){let o=this,a=0,h;return p;function p(c){return n.enter(e),n.enter(u),n.consume(c),n.exit(u),n.enter(i),m}function m(c){return a>999||c===null||c===91||c===93&&!h||c===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?t(c):c===93?(n.exit(i),n.enter(u),n.consume(c),n.exit(u),n.exit(e),r):b(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),m):(n.enter("chunkString",{contentType:"string"}),x(c))}function x(c){return c===null||c===91||c===93||b(c)||a++>999?(n.exit("chunkString"),m(c)):(n.consume(c),h||(h=!y(c)),c===92?f:x)}function f(c){return c===91||c===92||c===93?(n.consume(c),a++,x):x(c)}}function Pn(n,r,t,e,u,i){let o;return a;function a(f){return f===34||f===39||f===40?(n.enter(e),n.enter(u),n.consume(f),n.exit(u),o=f===40?41:f,h):t(f)}function h(f){return f===o?(n.enter(u),n.consume(f),n.exit(u),n.exit(e),r):(n.enter(i),p(f))}function p(f){return f===o?(n.exit(i),h(o)):f===null?t(f):b(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),z(n,p,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),m(f))}function m(f){return f===o||f===null||b(f)?(n.exit("chunkString"),p(f)):(n.consume(f),f===92?x:m)}function x(f){return f===o||f===92?(n.consume(f),m):m(f)}}function cn(n,r){let t;return e;function e(u){return b(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),t=!0,e):y(u)?z(n,e,t?"linePrefix":"lineSuffix")(u):r(u)}}var Qn={name:"definition",tokenize:je},He={tokenize:Ne,partial:!0};function je(n,r,t){let e=this,u;return i;function i(c){return n.enter("definition"),o(c)}function o(c){return On.call(e,n,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function a(c){return u=on(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)),c===58?(n.enter("definitionMarker"),n.consume(c),n.exit("definitionMarker"),h):t(c)}function h(c){return M(c)?cn(n,p)(c):p(c)}function p(c){return Dn(n,m,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(c)}function m(c){return n.attempt(He,x,x)(c)}function x(c){return y(c)?z(n,f,"whitespace")(c):f(c)}function f(c){return c===null||b(c)?(n.exit("definition"),e.parser.defined.push(u),r(c)):t(c)}}function Ne(n,r,t){return e;function e(a){return M(a)?cn(n,u)(a):t(a)}function u(a){return Pn(n,i,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return y(a)?z(n,o,"whitespace")(a):o(a)}function o(a){return a===null||b(a)?r(a):t(a)}}var Wn={name:"hardBreakEscape",tokenize:Ve};function Ve(n,r,t){return e;function e(i){return n.enter("hardBreakEscape"),n.consume(i),u}function u(i){return b(i)?(n.exit("hardBreakEscape"),r(i)):t(i)}}var Un={name:"headingAtx",tokenize:We,resolve:Qe};function Qe(n,r){let t=n.length-2,e=3,u,i;return n[e][1].type==="whitespace"&&(e+=2),t-2>e&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(e===t-1||t-4>e&&n[t-2][1].type==="whitespace")&&(t-=e+1===t?2:4),t>e&&(u={type:"atxHeadingText",start:n[e][1].start,end:n[t][1].end},i={type:"chunkText",start:n[e][1].start,end:n[t][1].end,contentType:"text"},Q(n,e,t-e+1,[["enter",u,r],["enter",i,r],["exit",i,r],["exit",u,r]])),n}function We(n,r,t){let e=0;return u;function u(m){return n.enter("atxHeading"),i(m)}function i(m){return n.enter("atxHeadingSequence"),o(m)}function o(m){return m===35&&e++<6?(n.consume(m),o):m===null||M(m)?(n.exit("atxHeadingSequence"),a(m)):t(m)}function a(m){return m===35?(n.enter("atxHeadingSequence"),h(m)):m===null||b(m)?(n.exit("atxHeading"),r(m)):y(m)?z(n,a,"whitespace")(m):(n.enter("atxHeadingText"),p(m))}function h(m){return m===35?(n.consume(m),h):(n.exit("atxHeadingSequence"),a(m))}function p(m){return m===null||m===35||M(m)?(n.exit("atxHeadingText"),a(m)):(n.consume(m),p)}}var wt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Zn=["pre","script","style","textarea"];var $n={name:"htmlFlow",tokenize:Ye,resolveTo:$e,concrete:!0},Ue={tokenize:Je,partial:!0},Ze={tokenize:Ge,partial:!0};function $e(n){let r=n.length;for(;r--&&!(n[r][0]==="enter"&&n[r][1].type==="htmlFlow"););return r>1&&n[r-2][1].type==="linePrefix"&&(n[r][1].start=n[r-2][1].start,n[r+1][1].start=n[r-2][1].start,n.splice(r-2,2)),n}function Ye(n,r,t){let e=this,u,i,o,a,h;return p;function p(s){return m(s)}function m(s){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(s),x}function x(s){return s===33?(n.consume(s),f):s===47?(n.consume(s),i=!0,A):s===63?(n.consume(s),u=3,e.interrupt?r:l):Y(s)?(n.consume(s),o=String.fromCharCode(s),B):t(s)}function f(s){return s===45?(n.consume(s),u=2,c):s===91?(n.consume(s),u=5,a=0,F):Y(s)?(n.consume(s),u=4,e.interrupt?r:l):t(s)}function c(s){return s===45?(n.consume(s),e.interrupt?r:l):t(s)}function F(s){let $="CDATA[";return s===$.charCodeAt(a++)?(n.consume(s),a===$.length?e.interrupt?r:P:F):t(s)}function A(s){return Y(s)?(n.consume(s),o=String.fromCharCode(s),B):t(s)}function B(s){if(s===null||s===47||s===62||M(s)){let $=s===47,fn=o.toLowerCase();return!$&&!i&&Zn.includes(fn)?(u=1,e.interrupt?r(s):P(s)):wt.includes(o.toLowerCase())?(u=6,$?(n.consume(s),d):e.interrupt?r(s):P(s)):(u=7,e.interrupt&&!e.parser.lazy[e.now().line]?t(s):i?E(s):S(s))}return s===45||N(s)?(n.consume(s),o+=String.fromCharCode(s),B):t(s)}function d(s){return s===62?(n.consume(s),e.interrupt?r:P):t(s)}function E(s){return y(s)?(n.consume(s),E):W(s)}function S(s){return s===47?(n.consume(s),W):s===58||s===95||Y(s)?(n.consume(s),D):y(s)?(n.consume(s),S):W(s)}function D(s){return s===45||s===46||s===58||s===95||N(s)?(n.consume(s),D):L(s)}function L(s){return s===61?(n.consume(s),g):y(s)?(n.consume(s),L):S(s)}function g(s){return s===null||s===60||s===61||s===62||s===96?t(s):s===34||s===39?(n.consume(s),h=s,O):y(s)?(n.consume(s),g):R(s)}function O(s){return s===h?(n.consume(s),h=null,q):s===null||b(s)?t(s):(n.consume(s),O)}function R(s){return s===null||s===34||s===39||s===47||s===60||s===61||s===62||s===96||M(s)?L(s):(n.consume(s),R)}function q(s){return s===47||s===62||y(s)?S(s):t(s)}function W(s){return s===62?(n.consume(s),G):t(s)}function G(s){return s===null||b(s)?P(s):y(s)?(n.consume(s),G):t(s)}function P(s){return s===45&&u===2?(n.consume(s),_):s===60&&u===1?(n.consume(s),j):s===62&&u===4?(n.consume(s),J):s===63&&u===3?(n.consume(s),l):s===93&&u===5?(n.consume(s),v):b(s)&&(u===6||u===7)?(n.exit("htmlFlowData"),n.check(Ue,nn,C)(s)):s===null||b(s)?(n.exit("htmlFlowData"),C(s)):(n.consume(s),P)}function C(s){return n.check(Ze,T,nn)(s)}function T(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),I}function I(s){return s===null||b(s)?C(s):(n.enter("htmlFlowData"),P(s))}function _(s){return s===45?(n.consume(s),l):P(s)}function j(s){return s===47?(n.consume(s),o="",K):P(s)}function K(s){if(s===62){let $=o.toLowerCase();return Zn.includes($)?(n.consume(s),J):P(s)}return Y(s)&&o.length<8?(n.consume(s),o+=String.fromCharCode(s),K):P(s)}function v(s){return s===93?(n.consume(s),l):P(s)}function l(s){return s===62?(n.consume(s),J):s===45&&u===2?(n.consume(s),l):P(s)}function J(s){return s===null||b(s)?(n.exit("htmlFlowData"),nn(s)):(n.consume(s),J)}function nn(s){return n.exit("htmlFlow"),r(s)}}function Ge(n,r,t){let e=this;return u;function u(o){return b(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):t(o)}function i(o){return e.parser.lazy[e.now().line]?t(o):r(o)}}function Je(n,r,t){return e;function e(u){return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),n.attempt(ln,r,t)}}var Yn={name:"htmlText",tokenize:Ke};function Ke(n,r,t){let e=this,u,i,o;return a;function a(l){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(l),h}function h(l){return l===33?(n.consume(l),p):l===47?(n.consume(l),L):l===63?(n.consume(l),S):Y(l)?(n.consume(l),R):t(l)}function p(l){return l===45?(n.consume(l),m):l===91?(n.consume(l),i=0,F):Y(l)?(n.consume(l),E):t(l)}function m(l){return l===45?(n.consume(l),c):t(l)}function x(l){return l===null?t(l):l===45?(n.consume(l),f):b(l)?(o=x,j(l)):(n.consume(l),x)}function f(l){return l===45?(n.consume(l),c):x(l)}function c(l){return l===62?_(l):l===45?f(l):x(l)}function F(l){let J="CDATA[";return l===J.charCodeAt(i++)?(n.consume(l),i===J.length?A:F):t(l)}function A(l){return l===null?t(l):l===93?(n.consume(l),B):b(l)?(o=A,j(l)):(n.consume(l),A)}function B(l){return l===93?(n.consume(l),d):A(l)}function d(l){return l===62?_(l):l===93?(n.consume(l),d):A(l)}function E(l){return l===null||l===62?_(l):b(l)?(o=E,j(l)):(n.consume(l),E)}function S(l){return l===null?t(l):l===63?(n.consume(l),D):b(l)?(o=S,j(l)):(n.consume(l),S)}function D(l){return l===62?_(l):S(l)}function L(l){return Y(l)?(n.consume(l),g):t(l)}function g(l){return l===45||N(l)?(n.consume(l),g):O(l)}function O(l){return b(l)?(o=O,j(l)):y(l)?(n.consume(l),O):_(l)}function R(l){return l===45||N(l)?(n.consume(l),R):l===47||l===62||M(l)?q(l):t(l)}function q(l){return l===47?(n.consume(l),_):l===58||l===95||Y(l)?(n.consume(l),W):b(l)?(o=q,j(l)):y(l)?(n.consume(l),q):_(l)}function W(l){return l===45||l===46||l===58||l===95||N(l)?(n.consume(l),W):G(l)}function G(l){return l===61?(n.consume(l),P):b(l)?(o=G,j(l)):y(l)?(n.consume(l),G):q(l)}function P(l){return l===null||l===60||l===61||l===62||l===96?t(l):l===34||l===39?(n.consume(l),u=l,C):b(l)?(o=P,j(l)):y(l)?(n.consume(l),P):(n.consume(l),T)}function C(l){return l===u?(n.consume(l),u=void 0,I):l===null?t(l):b(l)?(o=C,j(l)):(n.consume(l),C)}function T(l){return l===null||l===34||l===39||l===60||l===61||l===96?t(l):l===47||l===62||M(l)?q(l):(n.consume(l),T)}function I(l){return l===47||l===62||M(l)?q(l):t(l)}function _(l){return l===62?(n.consume(l),n.exit("htmlTextData"),n.exit("htmlText"),r):t(l)}function j(l){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),K}function K(l){return y(l)?z(n,v,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):v(l)}function v(l){return n.enter("htmlTextData"),o(l)}}var mn={name:"labelEnd",tokenize:rr,resolveTo:er,resolveAll:tr},Xe={tokenize:ir},ve={tokenize:ur},nr={tokenize:or};function tr(n){let r=-1;for(;++r<n.length;){let t=n[r][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(r+1,t.type==="labelImage"?4:2),t.type="data",r++)}return n}function er(n,r){let t=n.length,e=0,u,i,o,a;for(;t--;)if(u=n[t][1],i){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;n[t][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(i=t,u.type!=="labelLink")){e=2;break}}else u.type==="labelEnd"&&(o=t);let h={type:n[i][1].type==="labelLink"?"link":"image",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)},p={type:"label",start:Object.assign({},n[i][1].start),end:Object.assign({},n[o][1].end)},m={type:"labelText",start:Object.assign({},n[i+e+2][1].end),end:Object.assign({},n[o-2][1].start)};return a=[["enter",h,r],["enter",p,r]],a=H(a,n.slice(i+1,i+e+3)),a=H(a,[["enter",m,r]]),a=H(a,xn(r.parser.constructs.insideSpan.null,n.slice(i+e+4,o-3),r)),a=H(a,[["exit",m,r],n[o-2],n[o-1],["exit",p,r]]),a=H(a,n.slice(o+1)),a=H(a,[["exit",h,r]]),Q(n,i,n.length,a),n}function rr(n,r,t){let e=this,u=e.events.length,i,o;for(;u--;)if((e.events[u][1].type==="labelImage"||e.events[u][1].type==="labelLink")&&!e.events[u][1]._balanced){i=e.events[u][1];break}return a;function a(f){return i?i._inactive?x(f):(o=e.parser.defined.includes(on(e.sliceSerialize({start:i.end,end:e.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelEnd"),h):t(f)}function h(f){return f===40?n.attempt(Xe,m,o?m:x)(f):f===91?n.attempt(ve,m,o?p:x)(f):o?m(f):x(f)}function p(f){return n.attempt(nr,m,x)(f)}function m(f){return r(f)}function x(f){return i._balanced=!0,t(f)}}function ir(n,r,t){return e;function e(x){return n.enter("resource"),n.enter("resourceMarker"),n.consume(x),n.exit("resourceMarker"),u}function u(x){return M(x)?cn(n,i)(x):i(x)}function i(x){return x===41?m(x):Dn(n,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function o(x){return M(x)?cn(n,h)(x):m(x)}function a(x){return t(x)}function h(x){return x===34||x===39||x===40?Pn(n,p,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):m(x)}function p(x){return M(x)?cn(n,m)(x):m(x)}function m(x){return x===41?(n.enter("resourceMarker"),n.consume(x),n.exit("resourceMarker"),n.exit("resource"),r):t(x)}}function ur(n,r,t){let e=this;return u;function u(a){return On.call(e,n,i,o,"reference","referenceMarker","referenceString")(a)}function i(a){return e.parser.defined.includes(on(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)))?r(a):t(a)}function o(a){return t(a)}}function or(n,r,t){return e;function e(i){return n.enter("reference"),n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),u}function u(i){return i===93?(n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),n.exit("reference"),r):t(i)}}var Gn={name:"labelStartImage",tokenize:ar,resolveAll:mn.resolveAll};function ar(n,r,t){let e=this;return u;function u(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),i}function i(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(a):r(a)}}var Jn={name:"labelStartLink",tokenize:lr,resolveAll:mn.resolveAll};function lr(n,r,t){let e=this;return u;function u(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(o):r(o)}}var wn={name:"lineEnding",tokenize:sr};function sr(n,r){return t;function t(e){return n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),z(n,r,"linePrefix")}}var pn={name:"thematicBreak",tokenize:cr};function cr(n,r,t){let e=0,u;return i;function i(p){return n.enter("thematicBreak"),o(p)}function o(p){return u=p,a(p)}function a(p){return p===u?(n.enter("thematicBreakSequence"),h(p)):e>=3&&(p===null||b(p))?(n.exit("thematicBreak"),r(p)):t(p)}function h(p){return p===u?(n.consume(p),e++,h):(n.exit("thematicBreakSequence"),y(p)?z(n,a,"whitespace")(p):a(p))}}var U={name:"list",tokenize:fr,continuation:{tokenize:hr},exit:gr},mr={tokenize:kr,partial:!0},pr={tokenize:xr,partial:!0};function fr(n,r,t){let e=this,u=e.events[e.events.length-1],i=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,o=0;return a;function a(c){let F=e.containerState.type||(c===42||c===43||c===45?"listUnordered":"listOrdered");if(F==="listUnordered"?!e.containerState.marker||c===e.containerState.marker:Sn(c)){if(e.containerState.type||(e.containerState.type=F,n.enter(F,{_container:!0})),F==="listUnordered")return n.enter("listItemPrefix"),c===42||c===45?n.check(pn,t,p)(c):p(c);if(!e.interrupt||c===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),h(c)}return t(c)}function h(c){return Sn(c)&&++o<10?(n.consume(c),h):(!e.interrupt||o<2)&&(e.containerState.marker?c===e.containerState.marker:c===41||c===46)?(n.exit("listItemValue"),p(c)):t(c)}function p(c){return n.enter("listItemMarker"),n.consume(c),n.exit("listItemMarker"),e.containerState.marker=e.containerState.marker||c,n.check(ln,e.interrupt?t:m,n.attempt(mr,f,x))}function m(c){return e.containerState.initialBlankLine=!0,i++,f(c)}function x(c){return y(c)?(n.enter("listItemPrefixWhitespace"),n.consume(c),n.exit("listItemPrefixWhitespace"),f):t(c)}function f(c){return e.containerState.size=i+e.sliceSerialize(n.exit("listItemPrefix"),!0).length,r(c)}}function hr(n,r,t){let e=this;return e.containerState._closeFlow=void 0,n.check(ln,u,i);function u(a){return e.containerState.furtherBlankLines=e.containerState.furtherBlankLines||e.containerState.initialBlankLine,z(n,r,"listItemIndent",e.containerState.size+1)(a)}function i(a){return e.containerState.furtherBlankLines||!y(a)?(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,o(a)):(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,n.attempt(pr,r,o)(a))}function o(a){return e.containerState._closeFlow=!0,e.interrupt=void 0,z(n,n.attempt(U,r,t),"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function xr(n,r,t){let e=this;return z(n,u,"listItemIndent",e.containerState.size+1);function u(i){let o=e.events[e.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===e.containerState.size?r(i):t(i)}}function gr(n){n.exit(this.containerState.type)}function kr(n,r,t){let e=this;return z(n,u,"listItemPrefixWhitespace",e.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(i){let o=e.events[e.events.length-1];return!y(i)&&o&&o[1].type==="listItemPrefixWhitespace"?r(i):t(i)}}var _n={name:"setextUnderline",tokenize:Sr,resolveTo:dr};function dr(n,r){let t=n.length,e,u,i;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){e=t;break}n[t][1].type==="paragraph"&&(u=t)}else n[t][1].type==="content"&&n.splice(t,1),!i&&n[t][1].type==="definition"&&(i=t);let o={type:"setextHeading",start:Object.assign({},n[u][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[u][1].type="setextHeadingText",i?(n.splice(u,0,["enter",o,r]),n.splice(i+1,0,["exit",n[e][1],r]),n[e][1].end=Object.assign({},n[i][1].end)):n[e][1]=o,n.push(["exit",o,r]),n}function Sr(n,r,t){let e=this,u;return i;function i(p){let m=e.events.length,x;for(;m--;)if(e.events[m][1].type!=="lineEnding"&&e.events[m][1].type!=="linePrefix"&&e.events[m][1].type!=="content"){x=e.events[m][1].type==="paragraph";break}return!e.parser.lazy[e.now().line]&&(e.interrupt||x)?(n.enter("setextHeadingLine"),u=p,o(p)):t(p)}function o(p){return n.enter("setextHeadingLineSequence"),a(p)}function a(p){return p===u?(n.consume(p),a):(n.exit("setextHeadingLineSequence"),y(p)?z(n,h,"lineSuffix")(p):h(p))}function h(p){return p===null||b(p)?(n.exit("setextHeadingLine"),r(p)):t(p)}}var Ct={tokenize:br};function br(n){let r=this,t=n.attempt(ln,e,n.attempt(this.parser.constructs.flowInitial,u,z(n,n.attempt(this.parser.constructs.flow,u,n.attempt(Vn,u)),"linePrefix")));return t;function e(i){if(i===null){n.consume(i);return}return n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),r.currentConstruct=void 0,t}function u(i){if(i===null){n.consume(i);return}return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),r.currentConstruct=void 0,t}}var At={resolveAll:Lt()},yt=It("string"),zt=It("text");function It(n){return{tokenize:r,resolveAll:Lt(n==="text"?Fr:void 0)};function r(t){let e=this,u=this.parser.constructs[n],i=t.attempt(u,o,a);return o;function o(m){return p(m)?i(m):a(m)}function a(m){if(m===null){t.consume(m);return}return t.enter("data"),t.consume(m),h}function h(m){return p(m)?(t.exit("data"),i(m)):(t.consume(m),h)}function p(m){if(m===null)return!0;let x=u[m],f=-1;if(x)for(;++f<x.length;){let c=x[f];if(!c.previous||c.previous.call(e,e.previous))return!0}return!1}}}function Lt(n){return r;function r(t,e){let u=-1,i;for(;++u<=t.length;)i===void 0?t[u]&&t[u][1].type==="data"&&(i=u,u++):(!t[u]||t[u][1].type!=="data")&&(u!==i+2&&(t[i][1].end=t[u-1][1].end,t.splice(i+2,u-i-2),u=i+2),i=void 0);return n?n(t,e):t}}function Fr(n,r){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){let e=n[t-1][1],u=r.sliceStream(e),i=u.length,o=-1,a=0,h;for(;i--;){let p=u[i];if(typeof p=="string"){for(o=p.length;p.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(p===-2)h=!0,a++;else if(p!==-1){i++;break}}if(a){let p={type:t===n.length||h||a<2?"lineSuffix":"hardBreakTrailing",start:{line:e.end.line,column:e.end.column-a,offset:e.end.offset-a,_index:e.start._index+i,_bufferIndex:i?o:e.start._bufferIndex+o},end:Object.assign({},e.end)};e.end=Object.assign({},p.start),e.start.offset===e.end.offset?Object.assign(e,p):(n.splice(t,0,["enter",p,r],["exit",p,r]),t+=2)}t++}return n}function Bt(n,r,t){let e=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),u={},i=[],o=[],a=[],h=!0,p={consume:D,enter:L,exit:g,attempt:q(O),check:q(R),interrupt:q(R,{interrupt:!0})},m={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:A,sliceSerialize:F,now:B,defineSkip:d,write:c},x=r.tokenize.call(m,p),f;return r.resolveAll&&i.push(r),m;function c(C){return o=H(o,C),E(),o[o.length-1]!==null?[]:(W(r,0),m.events=xn(i,m.events,m),m.events)}function F(C,T){return wr(A(C),T)}function A(C){return Er(o,C)}function B(){let{line:C,column:T,offset:I,_index:_,_bufferIndex:j}=e;return{line:C,column:T,offset:I,_index:_,_bufferIndex:j}}function d(C){u[C.line]=C.column,P()}function E(){let C;for(;e._index<o.length;){let T=o[e._index];if(typeof T=="string")for(C=e._index,e._bufferIndex<0&&(e._bufferIndex=0);e._index===C&&e._bufferIndex<T.length;)S(T.charCodeAt(e._bufferIndex));else S(T)}}function S(C){h=void 0,f=C,x=x(C)}function D(C){b(C)?(e.line++,e.column=1,e.offset+=C===-3?2:1,P()):C!==-1&&(e.column++,e.offset++),e._bufferIndex<0?e._index++:(e._bufferIndex++,e._bufferIndex===o[e._index].length&&(e._bufferIndex=-1,e._index++)),m.previous=C,h=!0}function L(C,T){let I=T||{};return I.type=C,I.start=B(),m.events.push(["enter",I,m]),a.push(I),I}function g(C){let T=a.pop();return T.end=B(),m.events.push(["exit",T,m]),T}function O(C,T){W(C,T.from)}function R(C,T){T.restore()}function q(C,T){return I;function I(_,j,K){let v,l,J,nn;return Array.isArray(_)?$(_):"tokenize"in _?$([_]):s(_);function s(V){return gn;function gn(rn){let hn=rn!==null&&V[rn],sn=rn!==null&&V.null,Rn=[...Array.isArray(hn)?hn:hn?[hn]:[],...Array.isArray(sn)?sn:sn?[sn]:[]];return $(Rn)(rn)}}function $(V){return v=V,l=0,V.length===0?K:fn(V[l])}function fn(V){return gn;function gn(rn){return nn=G(),J=V,V.partial||(m.currentConstruct=V),V.name&&m.parser.constructs.disable.null.includes(V.name)?Cn(rn):V.tokenize.call(T?Object.assign(Object.create(m),T):m,p,Mn,Cn)(rn)}}function Mn(V){return h=!0,C(J,nn),j}function Cn(V){return h=!0,nn.restore(),++l<v.length?fn(v[l]):K}}}function W(C,T){C.resolveAll&&!i.includes(C)&&i.push(C),C.resolve&&Q(m.events,T,m.events.length-T,C.resolve(m.events.slice(T),m)),C.resolveTo&&(m.events=C.resolveTo(m.events,m))}function G(){let C=B(),T=m.previous,I=m.currentConstruct,_=m.events.length,j=Array.from(a);return{restore:K,from:_};function K(){e=C,m.previous=T,m.currentConstruct=I,m.events.length=_,a=j,P()}}function P(){e.line in u&&e.column<2&&(e.column=u[e.line],e.offset+=u[e.line]-1)}}function Er(n,r){let t=r.start._index,e=r.start._bufferIndex,u=r.end._index,i=r.end._bufferIndex,o;if(t===u)o=[n[t].slice(e,i)];else{if(o=n.slice(t,u),e>-1){let a=o[0];typeof a=="string"?o[0]=a.slice(e):o.shift()}i>0&&o.push(n[u].slice(0,i))}return o}function wr(n,r){let t=-1,e=[],u;for(;++t<n.length;){let i=n[t],o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=r?" ":"	";break}case-1:{if(!r&&u)continue;o=" ";break}default:o=String.fromCharCode(i)}u=i===-2,e.push(o)}return e.join("")}var Kn={};ae(Kn,{attentionMarkers:()=>Tr,contentInitial:()=>Ar,disable:()=>Dr,document:()=>Cr,flow:()=>zr,flowInitial:()=>yr,insideSpan:()=>Br,string:()=>Ir,text:()=>Lr});var Cr={42:U,43:U,45:U,48:U,49:U,50:U,51:U,52:U,53:U,54:U,55:U,56:U,57:U,62:zn},Ar={91:Qn},yr={[-2]:En,[-1]:En,32:En},zr={35:Un,42:pn,45:[_n,pn],60:$n,61:_n,95:pn,96:Bn,126:Bn},Ir={38:Ln,92:In},Lr={[-5]:wn,[-4]:wn,[-3]:wn,33:Gn,38:Ln,42:Fn,60:[jn,Yn],91:Jn,92:[Wn,In],93:mn,95:Fn,96:Nn},Br={null:[Fn,At]},Tr={null:[42,95]},Dr={null:[]};function Tt(n){let t=ot([Kn,...(n||{}).extensions||[]]),e={defined:[],lazy:{},constructs:t,content:u(dt),document:u(bt),flow:u(Ct),string:u(yt),text:u(zt)};return e;function u(i){return o;function o(a){return Bt(e,i,a)}}}function Dt(n){for(;!Tn(n););return n}var Ot=/[\0\t\n\r]/g;function Pt(){let n=1,r="",t=!0,e;return u;function u(i,o,a){let h=[],p,m,x,f,c;for(i=r+i.toString(o),x=0,r="",t&&(i.charCodeAt(0)===65279&&x++,t=void 0);x<i.length;){if(Ot.lastIndex=x,p=Ot.exec(i),f=p&&p.index!==void 0?p.index:i.length,c=i.charCodeAt(f),!p){r=i.slice(x);break}if(c===10&&x===f&&e)h.push(-3),e=void 0;else switch(e&&(h.push(-5),e=void 0),x<f&&(h.push(i.slice(x,f)),n+=f-x),c){case 0:{h.push(65533),n++;break}case 9:{for(m=Math.ceil(n/4)*4,h.push(-2);n++<m;)h.push(-1);break}case 10:{h.push(-4),n=1;break}default:e=!0,n=1}x=f+1}return a&&(e&&h.push(-5),r&&h.push(r),h.push(null)),h}}function Qo(n,r,t){return typeof r!="string"&&(t=r,r=void 0),kt(t)(Dt(Tt(t).document().write(Pt()(n,r,!0))))}export{Qo as micromark};
