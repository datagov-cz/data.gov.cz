{"version":3,"names":["validateWcagProp","value","propName","component","undefined","String","length","govWarningLog","validateWcagRef","referenceId","name","strings","referenceIds","splitByWhitespace","Array","isArray","filter","e","trim","documentNode","getElementById","validateWcagLabelFor","inputId","labelledBy","labelEl","querySelector","labelledByEl","validateWcagLabel","label"],"sources":["../../packages/core/src/helpers/Validate/wcag.ts"],"sourcesContent":["import { govWarningLog } from '../Log/gov.log'\nimport { splitByWhitespace } from '../../utils/string.utils'\nimport { documentNode } from '../Dom/win'\n\nexport const validateWcagProp = (value: string | undefined, propName: string, component: string): void => {\n\tif (value === undefined || String(value).length === 0) {\n\t\tgovWarningLog(`[${component}]: The (${propName}) attribute is important for correct accessibility.`)\n\t}\n}\n\nexport const validateWcagRef = (referenceId: string, name: string, component: string): boolean => {\n\tif (typeof referenceId === 'undefined' || referenceId === undefined) {\n\t\treturn true\n\t}\n\tif (String(referenceId).length === 0) {\n\t\tgovWarningLog(`[${component}]: Attribute (${name}) is defined with an empty value.`)\n\t\treturn false\n\t}\n\tlet strings = []\n\tconst referenceIds = splitByWhitespace(referenceId)\n\tif (Array.isArray(referenceIds)) {\n\t\tstrings = referenceIds.filter(function (e) {\n\t\t\treturn e.trim().length > 0\n\t\t})\n\t}\n\n\treturn !!strings.filter(referenceId => {\n\t\tif (documentNode().getElementById(referenceId) === null) {\n\t\t\t//govWarningLog(`[${component}][${name}]: Reference to element with id (${referenceId}) does not exist.`)\n\t\t\treturn false\n\t\t} else {\n\t\t\treturn true\n\t\t}\n\t}).length\n}\n\nexport const validateWcagLabelFor = (inputId: string, labelledBy: string | undefined, component: string): boolean => {\n\tconst labelEl = documentNode().querySelector(`[for=${inputId}]`)\n\tif (labelEl === null) {\n\t\tconst labelledByEl = documentNode().getElementById(labelledBy)\n\t\tif (labelledByEl === null) {\n\t\t\tgovWarningLog(`[${component}]: The form element has no defined wcag-label or wcag-labelled-by attribute.`)\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n\nexport const validateWcagLabel = (label: string | undefined, labelledBy: string | undefined, component: string): boolean => {\n\tif (typeof label === 'string' && label.length > 0) {\n\t\treturn true\n\t}\n\tif (typeof labelledBy === 'string' && labelledBy.length > 0) {\n\t\tconst labelledByEl = documentNode().getElementById(labelledBy)\n\t\tif (labelledByEl) {\n\t\t\treturn true\n\t\t}\n\t}\n\tgovWarningLog(`[${component}]: The element has no defined wcag-label or wcag-labelled-by attribute.`)\n\treturn false\n}\n"],"mappings":"kHAIaA,EAAmB,CAACC,EAA2BC,EAAkBC,KAC7E,GAAIF,IAAUG,WAAaC,OAAOJ,GAAOK,SAAW,EAAG,CACtDC,EAAc,IAAIJ,YAAoBD,uD,SAI3BM,EAAkB,CAACC,EAAqBC,EAAcP,KAClE,UAAWM,IAAgB,aAAeA,IAAgBL,UAAW,CACpE,OAAO,I,CAER,GAAIC,OAAOI,GAAaH,SAAW,EAAG,CACrCC,EAAc,IAAIJ,kBAA0BO,sCAC5C,OAAO,K,CAER,IAAIC,EAAU,GACd,MAAMC,EAAeC,EAAkBJ,GACvC,GAAIK,MAAMC,QAAQH,GAAe,CAChCD,EAAUC,EAAaI,QAAO,SAAUC,GACvC,OAAOA,EAAEC,OAAOZ,OAAS,C,IAI3B,QAASK,EAAQK,QAAOP,IACvB,GAAIU,IAAeC,eAAeX,KAAiB,KAAM,CAExD,OAAO,K,KACD,CACN,OAAO,I,KAENH,MAAM,E,MAGGe,EAAuB,CAACC,EAAiBC,EAAgCpB,KACrF,MAAMqB,EAAUL,IAAeM,cAAc,QAAQH,MACrD,GAAIE,IAAY,KAAM,CACrB,MAAME,EAAeP,IAAeC,eAAeG,GACnD,GAAIG,IAAiB,KAAM,CAC1BnB,EAAc,IAAIJ,iFAClB,OAAO,K,EAGT,OAAO,IAAI,E,MAGCwB,EAAoB,CAACC,EAA2BL,EAAgCpB,KAC5F,UAAWyB,IAAU,UAAYA,EAAMtB,OAAS,EAAG,CAClD,OAAO,I,CAER,UAAWiB,IAAe,UAAYA,EAAWjB,OAAS,EAAG,CAC5D,MAAMoB,EAAeP,IAAeC,eAAeG,GACnD,GAAIG,EAAc,CACjB,OAAO,I,EAGTnB,EAAc,IAAIJ,4EAClB,OAAO,KAAK,S"}