---
layout: default
title: Otevřená data snadno a rychle
ref: ODSnadnoARychle
lang: cs
---

<div class="container">
	<h1>{{ page.title }}</h1>

	<p>
		Zde naleznete co nejstručnější návod na publikaci dat jako otevřená data.
		Postup si ukážeme na jednorázové publikaci tabulkových dat a na konci shrneme, jak postupovat dál směrem k sytematičtějšímu řešení.
	</p>

	<p>
		Začneme tedy s typickou tabulkou v Excelu, a skončíme se správně publikovanými tabulkovými otevřenými daty.
	</p>

	<hr/>

	<div id="začínáme-s-excelem">
		<h2 class="mb-3">1. Začínáme s Excelovským souborem</h2>
		
		<div class="row">
			
			<div class="col-12 col-md-12 col-lg-4 d-flex">
				<div class="card border-primary mb-3">
					<div class="card-header text-primary">Postup</div>
					<div class="card-body">
						<p class="card-text">
							Typickým zdrojem otevřených dat je Excelovský soubor.
							Ten sám o sobě může obsahovat spoustu problémů, kterým se souhrnně říká "<a href="příklady/barevný.xlsx">Barevný Excel</a>".
							Ty však nesouvisejí s otevřenými daty.
						</p>
						<p class="card-text">
							Předpokládáme tedy, že máme takzvaný &quot;<a href="příklady/slušný.xlsx">slušný Excel</a>&quot;, tedy 1 list, na kterém je tabulka která není formátovaná, začíná v buňce A1, na prvním řádku má názvy sloupců a obsah splňuje alespoň <a href="https://cs.wikipedia.org/wiki/Normalizace_databáze#První_normální_forma_(1NF)" title="1NF">první normální formu</a>.
						</p>
					</div>
					<div class="card-footer text-end">
						<a href="https://cs.wikipedia.org/wiki/Normalizace_databáze#První_normální_forma_(1NF)" class="card-link" title="1NF">První normální forma</a>
					</div>					
				</div>
			</div>
			
			<div class="col-12 col-md-6 col-lg-4 d-flex">
				<div class="card border-danger mb-3">
					<div class="card-header text-danger">Špatně</div>
					<div class="card-body">
						<h3 class="h5 card-title">Barevný Excel</h3>
						<p class="card-text">
							Takto by to vypadat nemělo.
							Význam nesmí být určen jen barvou, datumy (čísla, ...) nesmí být v přirozeném jazyce.
						</p>
					</div>
					<img class="card-img" src="obrázky/barevný-excel.png" alt="Barevný Excel"/>
					<div class="card-footer text-end">
						<a href="příklady/barevný.xlsx" class="card-link">Stáhnout</a>
					</div>
				</div>
			</div>

			<div class="col-12 col-md-6 col-lg-4 d-flex">
				<div class="card border-success mb-3">
					<div class="card-header text-success">Dobře</div>
					<div class="card-body">
						<h3 class="h5 card-title">Slušný Excel</h3>
						<p class="card-text">
							Takhle je to lepší.
							1 list má 1 tabulku, nejsou použity prázdné ani sloučené buňky pro formátování.
						</p>
					</div>
					<img class="card-img" src="obrázky/slušný-excel.png" alt="Slušný Excel"/>
					<div class="card-footer text-end">
						<a href="příklady/slušný.xlsx" class="card-link">Stáhnout</a>
					</div>
				</div>
			</div>

		</div>
	</div>

	<hr/>

	<div id="vyrábíme-csv">
		<h2 class="mb-3">2. Vyrábíme CSV</h2>
		
		<div class="row">

			<div class="col-12 col-md-12 col-lg-4 d-flex">
				<div class="card border-primary mb-3">
					<div class="card-header text-primary">Postup</div>
					<div class="card-body">
						<p class="card-text">
							Formátem pro otevřená tabulková data je <a href="https://opendata.gov.cz/standardy:csv" title="csv">formát CSV</a>.
							Tabulku z Excelu tedy musíme do tohoto formátu převést.
							Přitom je třeba dát pozor na <a href="https://opendata.gov.cz/špatná-praxe:start#nejčastější_chyby_při_použití_formátu_csv" title="Špatná praxe v CSV">typické chyby</a>, které se při tvorbě CSV souborů vyskytují.
						</p>
						<div class="alert alert-warning" role="alert">
							Microsoft Excel neumí správné CSV otevřít přímo.
							Je třeba ho importovat.
						</div>
					</div>
					<div class="card-footer text-end">
						<a href="https://opendata.gov.cz/standardy:csv" class="card-link" title="csv">O CSV</a>
						<a href="https://opendata.gov.cz/špatná-praxe:start#nejčastější_chyby_při_použití_formátu_csv" class="card-link" title="Špatná praxe v CSV">Špatná praxe</a>
					</div>
				</div>
			</div>
			
			<div class="col-12 col-md-6 col-lg-4 d-flex">
				<div class="card border-danger mb-3">
					<div class="card-header text-danger">Špatně</div>
					<div class="card-body">
						<h3 class="h5 card-title">Špatné CSV</h3>
						<p class="card-text">
							Špatný oddělovač, špatné kódování.
						</p>
					</div>
					<img class="card-img" src="obrázky/špatné-csv.png" alt="Špatné CSV"/>
					<div class="card-footer text-end">
						<a href="příklady/špatné.csv" class="card-link" title="Špatné CSV">Stáhnout</a>
					</div>
				</div>
			</div>
			
			<div class="col-12 col-md-6 col-lg-4 d-flex">
				<div class="card border-success mb-3">
					<div class="card-header text-success">Dobře</div>
					<div class="card-body">
						<h3 class="h5 card-title">Správné CSV</h3>
						<p class="card-text">
							Takhle je to lepší. 
							<a href="http://csvlint.io/" title="CSV Lint">Zvalidujte si to</a>.
						</p>
					</div>
					<img class="card-img" src="obrázky/správné-csv.png" alt="Správné CSV"/>
					<div class="card-footer text-end">
						<a href="příklady/správné.csv" class="card-link" title="Správné CSV">Příklad 1</a>
						<a href="https://data.cssz.cz/dump/doba-rizeni-o-namitkach.csv" class="card-link" title="ČSSZ">Příklad 2</a>
						<a href="http://www.mdcr.cz/MDCR/media/otevrenadata/faktury/2016/faktury_cendis_2016.csv" class="card-link" title="CENDIS">Příklad 3</a>
					</div>
				</div>
			</div>
			
		</div>
	</div>

	<hr/>

	<div id="vystavujeme-csv">
		<h2 class="mb-3">3. CSV vystavujeme na web</h2>
		<div class="row">
			
			<div class="col-12 col-md-12 col-lg-4 d-flex">
				<div class="card border-primary mb-3">
					<div class="card-header text-primary">Postup</div>
					<div class="card-body">
						<p class="card-text">
							Aby se k CSV souboru někdo dostal, je třeba ho umístit na web.
							To znamená někam, kde bude mít své stabilní URL.
							Pak ověříme, že jsme se nedopustili nějaké z rozšířených <a href="https://opendata.gov.cz/špatná-praxe:start#přístup_k_otevřeným_datůmtechnické_překážky" title="Chyby s HTTP">chyb ve zpřístupnění souboru na webu</a>.
						</p>
					</div>
					<div class="card-footer text-end">
						<a href="https://opendata.gov.cz/špatná-praxe:start#přístup_k_otevřeným_datůmtechnické_překážky" class="card-link" title="Chyby s HTTP">Špatná praxe</a>
					</div>
				</div>
			</div>

			<div class="col-12 col-md-6 col-lg-4 d-flex">
				<div class="card border-danger mb-3 flex-fill">
					<div class="card-header text-danger">Časté chyby</div>
					<ul class="list-group list-group-flush">
						<li class="list-group-item"><a href="https://opendata.gov.cz/špatná-praxe:http" title="HTTP">HTTP místo HTTPS</a></li>
						<li class="list-group-item"><a href="https://opendata.gov.cz/špatná-praxe:https" title="Chybné HTTPS">Chybně nastavené HTTPS</a></li>
						<li class="list-group-item"><a href="https://opendata.gov.cz/špatná-praxe:komprese" title="Komprese">Chybějící komprese</a></li>
						<li class="list-group-item"><a href="https://opendata.gov.cz/špatná-praxe:http-content-type" title="HTTP hlavičky">Špatné HTTP hlavičky</a></li>
					</ul>
				</div>
			</div>

			<div class="col-12 col-md-6 col-lg-4 d-flex">
				<div class="card border-success mb-3 flex-fill">
					<div class="card-header text-success">Správné příklady</div>
					<ul class="list-group list-group-flush">
						<li class="list-group-item"><a href="https://data.mvcr.gov.cz/soubory/czechpoint/2009.csv" title="CzechPoint">CSV přístupné přes HTTPS, se správnými HTTP hlavičkami a kompresí</a></li>
					</ul>
					<div class="card-body">
						<div class="alert alert-warning" role="alert">
							Tento soubor je na Microsoft Excel příliš velký.
							Zkuste třeba <a href="https://www.emeditor.com/">EmEditor</a> nebo jiný prohlížeč velkých souborů.
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
	
	<hr/>

	<div id="schéma">
		<h2 class="mb-3">4. Soubor opatříme schématem</h2>
	
		<div class="row">
			
			<div class="col-12 col-md-12 col-lg-4 d-flex">
				<div class="card border-primary mb-3">
					<div class="card-header text-primary">Postup</div>
					<div class="card-body">
						<p class="card-text">
							K CSV souboru patří strojově čitelné schéma, které definuje datové typy sloupců, případně poskytuje lepší popis sloupců než-li jejich název.
							Pro CSV soubor tedy <a href="https://opendata.gov.cz/standardy:technicke-standardy-pro-vytvareni-datovych-schemat-na-stupni-3#definice_vlastního_schématu_pro_data_v_csv">vytvoříme schéma dle standardu CSV on the Web</a> ve formě JSON-LD deskriptoru.
							Pak ho spolu s CSV souborem vystavíme na web.
						</p>
					</div>
					<div class="card-footer text-end">
						<a href="https://opendata.gov.cz/standardy:technicke-standardy-pro-vytvareni-datovych-schemat-na-stupni-3#definice_vlastního_schématu_pro_data_v_csv" class="card-link" title="CSV on the Web">CSV on the Web</a>
						<a href="https://csvw.opendata.cz" class="card-link" title="CSVW validátor">Validátor</a>
						<a href="https://data.wu.ac.at/csvengine/csvm" class="card-link" title="CSV Engine">Generátor metadat</a>
					</div>
				</div>
			</div>
			
			<div class="col-12 col-md-6 col-lg-4 d-flex">
				<div class="card border-danger mb-3 flex-fill">
					<div class="card-header text-danger">Příklady bez schématu</div>
					<ul class="list-group list-group-flush">
						<li class="list-group-item"><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datové-sady/http---opendata.praha.eu-api-3-action-package_show-id-adopce-zvirat" title="Praha">CSV bez schématu</a></li>
						<li class="list-group-item"><a href="https://data.gov.cz/datová-sada?iri=https%3A%2F%2Fdata.gov.cz%2Fzdroj%2Fdatové-sady%2Fhttp---data.mmr.cz-api-3-action-package_show-id-seznam-faktur-mmr-2016" title="MMR">CSV bez schématu, špatný formát data</a></li>
						<li class="list-group-item"><a href="https://data.gov.cz/datová-sada?iri=https%3A%2F%2Fdata.gov.cz%2Fzdroj%2Fdatové-sady%2F00020869%2F99266" title="ČOI">CSV bez schématu</a></li>
					</ul>
				</div>
			</div>

			<div class="col-12 col-md-6 col-lg-4 d-flex">
				<div class="card border-success mb-3 flex-fill">
					<div class="card-header text-success">Příklady se schématem</div>
					<ul class="list-group list-group-flush">
						<li class="list-group-item"><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datové-sady/http---vdb.czso.cz-pll-eweb-package_show-id-200068" title="ČSÚ">CSV se schématem</a></li>
						<li class="list-group-item"><a href="https://data.gov.cz/datová-sada?iri=https%3A%2F%2Fdata.gov.cz%2Fzdroj%2Fdatové-sady%2F00007064%2F670509643" title="MV ČR">CSV se schématem</a></li>
					</ul>
				</div>
			</div>

		</div>
	</div>

	<hr/>

	<div id="metadata">
		<h2 class="mb-3">5. Specifikujeme metadata</h2>
	
		<div class="row">
			
			<div class="col-12 col-md-12 col-lg-4 d-flex">
				<div class="card border-primary mb-3">
					<div class="card-header text-primary">Postup</div>
					<div class="card-body">
						<p class="card-text">
							<a href="https://opendata.gov.cz/cinnost:priprava-katalogizacniho-zaznamu">Připravíme si metadatový záznam</a> o datové sadě.
							Měl by být co nejúplnější.
							Zejména by měl odkazovat na webovou stránku s dokumentací datové sady.
							Ta by měla být v HTML (jsme na Webu), nikoliv PDF či Word.
						</p>
					</div>
					<div class="card-footer text-end">
						<a href="https://opendata.gov.cz/cinnost:priprava-katalogizacniho-zaznamu" class="card-link" title="CSV on the Web">Specifikace</a>
					</div>
				</div>
			</div>
			
			<div class="col-12 col-md-6 col-lg-4 d-flex">
				<div class="card border-danger mb-3 flex-fill">
					<div class="card-header text-danger">Příklady nedostatečného popisu</div>
					<ul class="list-group list-group-flush">
						<li class="list-group-item"><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datové-sady/https---opendata.plzen.eu-api-3-action-package_show-id-gis-rastrovy-podklad-uzemni-plan-plzen-1-zakladni-vykres" title="Plzeň">Chybí podmínky užití, témata, distribuce vedou na HTML stránku.</a></li>
					</ul>
				</div>
			</div>
		 
			<div class="col-12 col-md-6 col-lg-4 d-flex">
				<div class="card border-success mb-3 flex-fill">
					<div class="card-header text-success">Příklady plnějšího popisu</div>
					<ul class="list-group list-group-flush">
						<li class="list-group-item"><a href="https://data.gov.cz/datová-sada?iri=https%3A%2F%2Fdata.gov.cz%2Fzdroj%2Fdatové-sady%2F00006963%2F7382c651d14bf514a8ea231b76904dd0" title="ČSSZ">Příklad s HTML dokumentací, tématy a kontaktním bodem</a></li>
						<li class="list-group-item"><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datové-sady/http---vdb.czso.cz-pll-eweb-package_show-id-170242" title="ČSÚ">Příklad s HTML dokumentací, časovým pokrytím a kontaktním bodem</a></li>
					</ul>
				</div>
			</div>

		</div>
	</div>

	<hr/>

	<div id="nkod">
		<h2 class="mb-3">6. Zaregistrujeme v NKOD</h2>

		<div class="row">
			
			<div class="col-12 col-md-12 col-lg-4 d-flex">
				<div class="card border-primary mb-3">
					<div class="card-header text-primary">Postup</div>
					<div class="card-body">
						<p class="card-text">
							Nejjednodušší možností je vyplnit formulář a výslednou zprávu zaslat datovou schránkou do NKOD.
							Nevyplňujeme jen povinné položky, snažíme se pečlivě vyplnit co nejvíce informací.
							Ty pak pomůžou uživatelům data najít a pochopit.
						</p>
					</div>
					<div class="card-footer text-end">
						<a href="https://data.gov.cz" class="card-link" title="Národní katalog otevřených dat">NKOD</a>
					</div>
				</div>
			</div>
			
		</div>
	</div>

	<hr/>

	<div id="co-dál">
		<h2 class="mb-3">Co dál?</h2>

		<div class="row">
			
			<div class="col-12 col-md-12 col-lg-4 d-flex">
				<div class="card border-success mb-3">
					<div class="card-header text-success">Systematický přístup</div>
					<div class="card-body">
						<p class="card-text">
							Ukázali jsme si postup publikace jednoho souboru.
							Typicky se ale v instituci nachází celá řada datových sad, které by bylo možno publikovat.
							Pokud by se ale postupovalo tímto jednoduchým způsobem, brzy by došlo k nejrůznějším zmatkům.
							Po prvotním úspěchu s pár prvními datovými sadami je tedy nutno přikročit k <a href="https://opendata.gov.cz/standardy:start" title="Postup otevírání dat">systematizaci otevírání dat v instituci</a>.
						</p>
					</div>
					<div class="card-footer text-end">
						<a href="https://opendata.gov.cz/standardy:start" class="card-link" title="Postup otevírání dat v instituci">Postup otevírání dat</a>
					</div>
				</div>
			</div>
			
			<div class="col-12 col-md-12 col-lg-4 d-flex">
				<div class="card border-success mb-3">
					<div class="card-header text-success">Propojená data</div>
					<div class="card-body">
						<p class="card-text">
							CSV je nejlepší formát pro tabulková data.
							Stále ale má své nedostatky - nejednoznačná identifikace entit v datech, nutnost hledání použitých číselníků a jiných souvisejících dat apod.
							Tyto nedostatky jsou vyřešeny použitím tzv. Propojených dat, což je dnes nejlepší způsob publikace dat na webu.
							Jedním z dalších kroků by tedy mělo být zváýžení publikace dat také tímto vhodnějším způsobem.
						</p>
					</div>
					<div class="card-footer text-end">
						<a href="https://opendata.gov.cz/propojená-data:start" class="card-link" title="Propojená data">Propojená data</a>
					</div>
				</div>
			</div>

			<div class="col-12 col-md-12 col-lg-4 d-flex">
				<div class="card border-success mb-3">
					<div class="card-header text-success">Lokální katalog otevřených dat</div>
					<div class="card-body">
						<p class="card-text">
							Pokud vaše instituce bude publikovat více než pár datových sad, je vhodné implementovat Lokální katalog otevřených dat.
							Existují pro něj buď open-source implementace, nebo jej lze vyřešit generováním pár souborů.
							Lokální katalog se jednou registruje do NKOD a dále se již nemusíte zabývat posíláním datových zpráv.
							NKOD si vše potřebné bude pravidelně číst z vašeho katalogu.
						</p>
					</div>
					<div class="card-footer text-end">
						<a href="https://opendata.gov.cz/standardy:zprovozneni-lokalniho-katalogu" class="card-link" title="Zprovoznění lokálního katalogu otevřených dat">Lokální katalog</a>
					</div>
				</div>
			</div>
			
		</div>
	</div>
</div>